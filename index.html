<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Super Classificados DF | Portal V3</title>
    
    <!-- Fonte e √çcones -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    
    <style>
        :root {
            /* Cores e Estilo */
            --primary: #2563eb;
            --primary-dark: #1e40af;
            --secondary: #64748b;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --vip: #FDB931;
            
            --bg-body: #f8fafc;
            --surface: #ffffff;
            --text-main: #1f2937;
            
            --admin-bar: #1f2937;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background-color: var(--bg-body); color: var(--text-main); padding-bottom: 80px; }

        /* HEADER */
        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            position: sticky; top: 0; z-index: 50;
            border-bottom: 1px solid #e2e8f0;
            padding: 1rem 5%;
            display: flex; justify-content: space-between; align-items: center;
        }
        
        .brand h1 { font-size: 1.4rem; font-weight: 800; color: var(--primary); letter-spacing: -0.5px; }
        .brand span { color: var(--text-main); }
        .admin-badge { background: var(--danger); color: white; padding: 2px 8px; border-radius: 4px; font-size: 0.6rem; text-transform: uppercase; margin-left: 5px; display: none; vertical-align: middle;}

        /* ADMIN BAR (S√ì PARA VC) */
        #adminToolbar {
            display: none; background: var(--admin-bar); color: white;
            padding: 10px 5%; font-size: 0.85rem; justify-content: space-between; align-items: center;
        }
        .btn-admin-logout { background: #4b5563; border: none; color: white; padding: 4px 10px; border-radius: 4px; cursor: pointer; }

        /* HERO & FILTERS */
        .categories-wrapper { padding: 1rem 5%; background: white; border-bottom: 1px solid #eee; overflow-x: auto; white-space: nowrap; -ms-overflow-style: none; scrollbar-width: none; }
        .categories-wrapper::-webkit-scrollbar { display: none; }
        
        .cat-chip {
            display: inline-block; padding: 8px 16px; margin-right: 8px;
            background: #f1f5f9; border-radius: 20px; font-size: 0.85rem; font-weight: 600;
            color: var(--secondary); cursor: pointer; transition: 0.2s; border: 1px solid transparent;
        }
        .cat-chip:hover { background: #e2e8f0; }
        .cat-chip.active { background: var(--primary); color: white; box-shadow: 0 4px 6px rgba(37,99,235,0.2); }

        /* GRID */
        .container { max-width: 1280px; margin: 0 auto; padding: 2rem 5%; }
        
        .section-title { font-size: 1.2rem; margin: 2rem 0 1rem 0; font-weight: 700; display: flex; align-items: center; gap: 10px; }
        
        .grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.5rem;
        }

        /* CARD V3 */
        .card {
            background: var(--surface); border-radius: 12px; overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05); transition: 0.3s;
            position: relative; display: flex; flex-direction: column;
            border: 1px solid #eee;
        }

        /* CARD STATUS ADMIN */
        .card.pending { border: 2px dashed var(--danger); opacity: 0.9; }
        .status-strip {
            background: var(--danger); color: white; text-align: center; font-size: 0.75rem; font-weight: bold; padding: 5px;
            display: none; /* S√≥ aparece se for pendente */
        }
        .card.pending .status-strip { display: block; }

        .card:hover { transform: translateY(-4px); box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1); }
        
        .card[data-plan="vip"] { border: 2px solid var(--vip); }
        .card[data-plan="comece"] { border: 1px solid var(--success); }

        .card-img-box { position: relative; height: 200px; background: #eee; overflow: hidden; }
        .card-img { width: 100%; height: 100%; object-fit: cover; }
        
        .cat-tag { position: absolute; bottom: 10px; left: 10px; background: rgba(0,0,0,0.7); color: white; font-size: 0.7rem; padding: 4px 8px; border-radius: 4px; }
        .plan-tag { position: absolute; top: 10px; left: 10px; background: var(--vip); color: #000; font-size: 0.7rem; font-weight: bold; padding: 4px 8px; border-radius: 4px; text-transform: uppercase; display: none; box-shadow: 0 2px 4px rgba(0,0,0,0.2); }
        .card[data-plan="vip"] .plan-tag { display: block; background: linear-gradient(135deg, #FFD700, #FDB931); }
        .card[data-plan="comece"] .plan-tag { display: block; background: var(--success); color: white; }

        .card-body { padding: 1rem; flex: 1; display: flex; flex-direction: column; }
        .card-price { font-size: 1.4rem; font-weight: 800; color: var(--text-main); margin-bottom: 0.2rem; }
        .card-title { font-size: 1rem; font-weight: 600; color: #4b5563; margin-bottom: 0.8rem; line-height: 1.4; }
        
        .admin-controls {
            margin-top: auto; padding-top: 1rem; border-top: 1px solid #eee;
            display: flex; gap: 5px; justify-content: space-between;
        }
        .btn-ctrl { flex: 1; border: none; padding: 8px; border-radius: 6px; color: white; font-weight: bold; cursor: pointer; font-size: 0.8rem; }
        .btn-approve { background: var(--success); }
        .btn-edit { background: var(--primary); }
        .btn-delete { background: var(--danger); }
        .btn-wpp { width: 100%; background: #25D366; color: white; padding: 10px; border-radius: 8px; text-align: center; text-decoration: none; font-weight: bold; margin-top: auto; display: block; }
        
        /* FAB */
        .fab {
            position: fixed; bottom: 25px; right: 25px;
            width: 60px; height: 60px; border-radius: 50%;
            background: var(--primary); color: white;
            font-size: 28px; border: none; box-shadow: 0 4px 15px rgba(37, 99, 235, 0.4);
            cursor: pointer; display: flex; align-items: center; justify-content: center; z-index: 100;
        }

        /* FOOTER & COPYRIGHT */
        footer {
            background: white; border-top: 1px solid #eee; padding: 2rem; text-align: center; color: var(--secondary); font-size: 0.8rem; margin-top: 3rem;
        }
        .admin-login-link { cursor: pointer; color: #ddd; margin-left: 10px; text-decoration: none; }
        .admin-login-link:hover { color: var(--secondary); }

        /* MODAL */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.7); backdrop-filter: blur(5px);
            z-index: 200; display: none; align-items: center; justify-content: center;
        }
        .modal-content {
            background: white; width: 95%; max-width: 500px;
            max-height: 90vh; overflow-y: auto; border-radius: 16px;
            padding: 1.5rem; position: relative;
        }
        
        /* Forms */
        .form-group { margin-bottom: 1rem; }
        .form-group label { display: block; font-size: 0.85rem; font-weight: 600; margin-bottom: 5px; color: var(--secondary); }
        .form-control { width: 100%; padding: 10px; border: 1px solid #cbd5e1; border-radius: 8px; font-size: 1rem; }
        select.form-control { background: white; }

        /* LOADING */
        .spinner { border: 4px solid #f3f3f3; border-top: 4px solid var(--primary); border-radius: 50%; width: 30px; height: 30px; animation: spin 1s linear infinite; margin: 20px auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* Toast */
        .toast { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: #1f2937; color: white; padding: 12px 24px; border-radius: 30px; z-index: 300; font-size: 0.9rem; animation: fadein 0.3s; }
    </style>
</head>
<body>

    <!-- NOTIFICA√á√ïES -->
    <div id="toast" style="display:none;" class="toast">Mensagem</div>

    <!-- BARRA ADMIN -->
    <div id="adminToolbar">
        <span>üîí Painel Administrativo Ativo</span>
        <button class="btn-admin-logout" onclick="Admin.logout()">Sair</button>
    </div>

    <header>
        <div class="brand">
            <h1>Super <span>Classificados</span> <span class="admin-badge" id="adminBadge">Admin</span></h1>
        </div>
        <button class="cat-chip active" style="background: var(--primary); color:white;" onclick="Modal.open()">+ Publicar</button>
    </header>

    <!-- CATEGORIAS -->
    <div class="categories-wrapper" id="categoryList">
        <!-- Renderizado via JS -->
    </div>

    <div class="container">
        <!-- ADMIN: PENDENTES -->
        <div id="pendingSection" style="display:none;">
            <div class="section-title" style="color:var(--danger)">
                ‚ö†Ô∏è Fila de Aprova√ß√£o (Somente Admin)
            </div>
            <div id="gridPending" class="grid" style="margin-bottom: 3rem;"></div>
        </div>

        <!-- PUBLICO -->
        <div class="section-title">
            <span id="currentCatTitle">√öltimos An√∫ncios</span>
            <small style="font-weight:400; font-size:0.8rem; color:#999;" id="adsCount"></small>
        </div>
        
        <div id="gridPublic" class="grid">
            <div class="spinner"></div>
        </div>
    </div>

    <button class="fab" onclick="Modal.open()">+</button>

    <footer>
        <p>Super Classificados DF ¬© 2025<br>Termos de Uso ‚Ä¢ Seguran√ßa</p>
        <p style="margin-top:10px; font-size:0.75rem; color:#ccc;">Developed by <strong>Carlos Alberto Reis</strong> <span class="admin-login-link" onclick="Admin.loginPrompt()">üîí</span></p>
    </footer>

    <!-- MODAL PRINCIPAL -->
    <div id="mainModal" class="modal-overlay">
        <div class="modal-content">
            <span onclick="Modal.close()" style="position:absolute; right:15px; top:10px; font-size:1.5rem; cursor:pointer; color:#999">&times;</span>
            <h2 id="modalTitle" style="margin-bottom:15px;">Novo An√∫ncio</h2>

            <form id="adForm" onsubmit="return false;">
                <!-- ETAPA 1 -->
                <div id="step1">
                    <div class="form-group">
                        <label>Categoria</label>
                        <select id="inpCat" class="form-control">
                            <option value="veiculos">üöó Ve√≠culos</option>
                            <option value="imoveis">üè° Im√≥veis</option>
                            <option value="eletronicos">üì± Eletr√¥nicos</option>
                            <option value="empregos">üíº Empregos</option>
                            <option value="servicos">üõ† Servi√ßos</option>
                            <option value="usados">üì¶ Usados / Desapego</option>
                            <option value="avisos">‚ö†Ô∏è Avisos / Comunicados</option>
                            <option value="achados">üîé Achados e Perdidos</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Destaque</label>
                        <select id="inpPlan" class="form-control" onchange="Form.updatePrice()">
                            <option value="padrao">Padr√£o (R$ 3,00)</option>
                            <option value="comece">üöÄ Comece (R$ 6,00)</option>
                            <option value="vip">üíé VIP (R$ 10,00)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>T√≠tulo</label>
                        <input type="text" id="inpTitle" class="form-control" placeholder="O que voc√™ est√° anunciando?">
                    </div>
                    
                    <button class="form-control" style="background:var(--primary); color:white; font-weight:bold; margin-top:10px;" onclick="Form.goStep2()">Continuar</button>
                </div>

                <!-- ETAPA 2 -->
                <div id="step2" style="display:none;">
                    <div class="form-group">
                        <label>Pre√ßo (R$)</label>
                        <input type="number" id="inpPrice" class="form-control">
                    </div>
                    
                    <div class="form-group">
                        <label>Descri√ß√£o</label>
                        <textarea id="inpDesc" class="form-control" rows="4"></textarea>
                    </div>

                    <div class="form-group">
                        <label>WhatsApp (DDD + N√∫mero)</label>
                        <input type="tel" id="inpPhone" class="form-control" placeholder="61999999999">
                    </div>

                    <div class="form-group">
                        <label>Foto</label>
                        <input type="file" id="inpImg" accept="image/*" class="form-control">
                    </div>

                    <button class="form-control" style="background:#ddd; color:#333; font-weight:bold;" onclick="Form.goStep1()">Voltar</button>
                    <button class="form-control" style="background:var(--success); color:white; font-weight:bold; margin-top:10px;" onclick="Form.submitAd()">
                        Finalizar e Pagar Pix
                    </button>
                </div>
            </form>

            <!-- TELA SUCESSO -->
            <div id="stepSuccess" style="display:none; text-align:center;">
                <div style="font-size:3rem;">üìù</div>
                <h3>An√∫ncio Recebido!</h3>
                <p style="color:var(--secondary); font-size:0.9rem; margin:10px 0;">Seu an√∫ncio ID #<span id="newAdId"></span> est√° <strong>PENDENTE</strong>.</p>
                
                <div style="background:#fff7ed; padding:15px; border-radius:10px; border:1px solid #fed7aa; margin:15px 0;">
                    <p style="font-weight:bold; color:#9a3412;">PAGAMENTO PENDENTE</p>
                    <p>Valor: <strong id="finalPrice">R$ 0,00</strong></p>
                    <p style="font-size:0.8rem; margin-top:5px;">Chave Pix: <strong>61 999487649</strong></p>
                </div>

                <p style="font-size:0.85rem;">‚ö†Ô∏è Seu an√∫ncio ser√° revisado e publicado em at√© 10 horas ap√≥s a confirma√ß√£o do pagamento.</p>

                <button id="btnSendReceipt" class="form-control" style="background:#25D366; color:white; font-weight:bold; margin-top:15px;">
                    Enviar Comprovante no WhatsApp
                </button>
            </div>

        </div>
    </div>

    <script>
        /**
         * SISTEMA SUPER CLASSIFICADOS V3
         * Configura√ß√µes Gerais
         */
        const Config = {
            dbUrl: "https://super-class-df-default-rtdb.firebaseio.com/ads",
            adminPass: "0123class2025",
            pixKey: "61999487649",
            categories: [
                {id:'todos', name:'Todos'},
                {id:'veiculos', name:'Ve√≠culos'},
                {id:'imoveis', name:'Im√≥veis'},
                {id:'eletronicos', name:'Eletr√¥nicos'},
                {id:'empregos', name:'Empregos'},
                {id:'servicos', name:'Servi√ßos'},
                {id:'usados', name:'Usados'},
                {id:'avisos', name:'Avisos'},
                {id:'achados', name:'Achados e Perdidos'}
            ]
        };

        const Utils = {
            $: (id) => document.getElementById(id),
            formatMoney: (v) => parseFloat(v).toLocaleString('pt-BR', {style:'currency', currency:'BRL'}),
            showToast: (msg) => {
                const t = Utils.$('toast'); t.innerText = msg; t.style.display='block';
                setTimeout(()=>t.style.display='none', 3000);
            },
            compressImage: (file) => {
                return new Promise((resolve) => {
                    const reader = new FileReader();
                    reader.readAsDataURL(file);
                    reader.onload = (e) => {
                        const img = new Image();
                        img.src = e.target.result;
                        img.onload = () => {
                            const cvs = document.createElement('canvas');
                            const scale = 500 / img.width;
                            cvs.width = 500; cvs.height = img.height * scale;
                            cvs.getContext('2d').drawImage(img,0,0,cvs.width,cvs.height);
                            resolve(cvs.toDataURL('image/jpeg', 0.6));
                        }
                    }
                });
            }
        };

        /**
         * CAMADA DE DADOS
         */
        const Db = {
            list: async () => {
                const r = await fetch(Config.dbUrl + ".json");
                const d = await r.json();
                return d ? Object.keys(d).map(k=>({...d[k], id:k})) : [];
            },
            create: async (data) => {
                data.status = 'pending'; // PADR√ÉO: PENDENTE
                data.createdAt = Date.now();
                const r = await fetch(Config.dbUrl + ".json", {method:'POST', body:JSON.stringify(data)});
                const d = await r.json();
                return d.name; // ID criado
            },
            updateStatus: async (id, status) => {
                await fetch(`${Config.dbUrl}/${id}/status.json`, {method:'PUT', body:JSON.stringify(status)});
            },
            updateData: async (id, newData) => {
                 await fetch(`${Config.dbUrl}/${id}.json`, {method:'PATCH', body:JSON.stringify(newData)});
            },
            remove: async (id) => {
                await fetch(`${Config.dbUrl}/${id}.json`, {method:'DELETE'});
            }
        };

        /**
         * ADMINISTRA√á√ÉO
         */
        const Admin = {
            isLogged: () => localStorage.getItem('sc_admin') === 'true',
            
            loginPrompt: () => {
                const pass = prompt("Acesso Admin. Senha:");
                if(pass === Config.adminPass) {
                    localStorage.setItem('sc_admin', 'true');
                    location.reload();
                } else if(pass) { alert("Senha Incorreta"); }
            },
            
            logout: () => {
                localStorage.removeItem('sc_admin');
                location.reload();
            },

            check: () => {
                if(Admin.isLogged()) {
                    Utils.$('adminToolbar').style.display = 'flex';
                    Utils.$('adminBadge').style.display = 'inline-block';
                    Utils.$('pendingSection').style.display = 'block';
                }
            },

            // A√ß√µes
            approve: async (id) => {
                if(!confirm("Pix confirmado? Liberar an√∫ncio?")) return;
                await Db.updateStatus(id, 'active');
                App.load();
                Utils.showToast("An√∫ncio Aprovado!");
            },
            
            reject: async (id) => {
                if(!confirm("Excluir este an√∫ncio permanentemente?")) return;
                await Db.remove(id);
                App.load();
                Utils.showToast("An√∫ncio Exclu√≠do.");
            },
            
            edit: (id) => {
                // Feature simples de edi√ß√£o: pega o ID e joga no form? 
                // Para V3 MVP, vamos alertar. Melhor implementa√ß√£o seria carregar no modal.
                const price = prompt("Novo Pre√ßo:");
                if(price) {
                     Db.updateData(id, {prodPrice: price}).then(() => App.load());
                }
            }
        };

        /**
         * APP L√ìGICA E UI
         */
        const App = {
            currentFilter: 'todos',
            
            init: () => {
                Admin.check();
                App.renderCats();
                App.load();
            },

            renderCats: () => {
                const el = Utils.$('categoryList');
                el.innerHTML = Config.categories.map(c => 
                    `<span class="cat-chip ${c.id==='todos'?'active':''}" onclick="App.filter('${c.id}', this)">${c.name}</span>`
                ).join('');
            },

            filter: (catId, domEl) => {
                App.currentFilter = catId;
                document.querySelectorAll('.cat-chip').forEach(c=>c.classList.remove('active'));
                domEl.classList.add('active');
                Utils.$('currentCatTitle').innerText = Config.categories.find(c=>c.id===catId).name;
                App.load();
            },

            load: async () => {
                const list = await Db.list();
                const now = Date.now();
                const validDays = 7 * 24 * 60 * 60 * 1000;
                
                // Separa√ß√£o
                let pending = [];
                let active = [];

                list.forEach(ad => {
                    const isExpired = (now - ad.createdAt) > validDays;
                    
                    // Auto Faxina de expirados
                    if(isExpired) { Db.remove(ad.id); return; }

                    if(ad.status === 'pending') {
                        pending.push(ad);
                    } else if (ad.status === 'active') {
                        // Filtrar por Categoria
                        if(App.currentFilter === 'todos' || ad.category === App.currentFilter) {
                            active.push(ad);
                        }
                    }
                });

                // Ordenar: VIP > Comece > Normal > Data
                const w = {vip:3, comece:2, padrao:1};
                active.sort((a,b) => (w[b.plan] - w[a.plan]) || (b.createdAt - a.createdAt));
                
                // Renderizar P√∫blicos
                const pubEl = Utils.$('gridPublic');
                pubEl.innerHTML = '';
                if(active.length === 0) pubEl.innerHTML = '<div style="padding:2rem; text-align:center; color:#999; grid-column:1/-1;">Nenhum an√∫ncio nesta categoria.</div>';
                
                active.forEach(ad => pubEl.appendChild(App.createCard(ad)));

                // Renderizar Pendentes (S√ì SE ADMIN)
                if(Admin.isLogged()) {
                    const pendEl = Utils.$('gridPending');
                    pendEl.innerHTML = '';
                    if(pending.length === 0) pendEl.innerHTML = '<p style="padding:1rem;">Nada pendente.</p>';
                    pending.forEach(ad => pendEl.appendChild(App.createCard(ad, true)));
                    Utils.$('adsCount').innerText = `${active.length} ativos ‚Ä¢ ${pending.length} aguardando aprova√ß√£o`;
                }
            },

            createCard: (ad, isAdminView = false) => {
                const d = document.createElement('div');
                d.className = `card ${isAdminView ? 'pending' : ''}`;
                d.setAttribute('data-plan', ad.plan);
                
                const img = ad.image ? ad.image : 'https://placehold.co/400x300?text=Sem+Foto';
                const whatsappMsg = `https://wa.me/55${ad.phone}?text=Ol√°, vi seu an√∫ncio ${ad.title} no site.`;
                
                let adminHtml = '';
                if(Admin.isLogged()) {
                    adminHtml = `
                    <div class="admin-controls">
                        ${isAdminView ? `<button class="btn-ctrl btn-approve" onclick="Admin.approve('${ad.id}')">‚úÖ Validar Pix</button>` : ''}
                        <button class="btn-ctrl btn-edit" onclick="Admin.edit('${ad.id}')">‚úèÔ∏è Pre√ßo</button>
                        <button class="btn-ctrl btn-delete" onclick="Admin.reject('${ad.id}')">üóëÔ∏è Excluir</button>
                    </div>`;
                }

                d.innerHTML = `
                    <div class="status-strip">AGUARDANDO APROVA√á√ÉO</div>
                    <div class="plan-tag">${ad.plan}</div>
                    <div class="card-img-box">
                        <img src="${img}" class="card-img" loading="lazy">
                        <span class="cat-tag">${Config.categories.find(c=>c.id===ad.category)?.name || 'Outros'}</span>
                    </div>
                    <div class="card-body">
                        <div class="card-price">${Utils.formatMoney(ad.prodPrice)}</div>
                        <h3 class="card-title">${ad.title}</h3>
                        ${!isAdminView ? `<a href="${whatsappMsg}" target="_blank" class="btn-wpp">Conversar</a>` : ''}
                        ${adminHtml}
                    </div>
                `;
                return d;
            }
        };

        /**
         * FORMUL√ÅRIO E MODAL
         */
        const Form = {
            data: {},
            
            updatePrice: () => {
                const map = { padrao: '3,00', comece: '6,00', vip: '10,00' };
                Utils.$('finalPrice').innerText = "R$ " + map[Utils.$('inpPlan').value];
            },

            goStep2: () => {
                if(!Utils.$('inpTitle').value) return alert("Digite o t√≠tulo!");
                Utils.$('step1').style.display='none'; Utils.$('step2').style.display='block';
            },
            goStep1: () => {
                Utils.$('step2').style.display='none'; Utils.$('step1').style.display='block';
            },

            submitAd: async () => {
                const file = Utils.$('inpImg').files[0];
                let imgData = '';
                
                if(file) {
                    Utils.showToast("Comprimindo imagem...");
                    imgData = await Utils.compressImage(file);
                }

                const payload = {
                    title: Utils.$('inpTitle').value,
                    prodPrice: Utils.$('inpPrice').value,
                    desc: Utils.$('inpDesc').value,
                    phone: Utils.$('inpPhone').value.replace(/\D/g,''),
                    category: Utils.$('inpCat').value,
                    plan: Utils.$('inpPlan').value,
                    image: imgData,
                    status: 'pending' // VAI PRA FILA DE APROVA√á√ÉO
                };

                Utils.showToast("Enviando...");
                const newId = await Db.create(payload);

                // Tela Sucesso / Cobran√ßa
                Utils.$('step2').style.display = 'none';
                Utils.$('stepSuccess').style.display = 'block';
                Utils.$('newAdId').innerText = newId.slice(-5); // Ultimos caracteres
                
                const zapMsg = `Ol√° Admin! Fiz o an√∫ncio "${payload.title}" (ID: ${newId.slice(-5)}). Segue meu comprovante PIX de R$ ${Utils.$('finalPrice').innerText} para liberar a publica√ß√£o.`;
                Utils.$('btnSendReceipt').onclick = () => window.open(`https://wa.me/5561999487649?text=${encodeURIComponent(zapMsg)}`, '_blank');
            }
        };

        const Modal = {
            open: () => { 
                Utils.$('mainModal').style.display = 'flex'; 
                Utils.$('step1').style.display = 'block';
                Utils.$('step2').style.display = 'none';
                Utils.$('stepSuccess').style.display = 'none';
                Utils.$('adForm').reset();
            },
            close: () => Utils.$('mainModal').style.display = 'none'
        };

        // Iniciar
        App.init();

    </script>
</body>
</html>
